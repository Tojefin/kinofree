import{s as A,a as se,c as re,b as H,d as g,f as p,i as V,g as k,n as N,E as K,a2 as Z,j as S,k as L,x as O,q as T,r as M,z as y,l as G,m as J}from"../chunks/scheduler.BjPIH0FZ.js";import{S as j,i as B,f as ee,c as z,a as E,m as U,t as h,b as v,d as x,g as X,e as Y}from"../chunks/index.CxIW9Pu1.js";import{w as ce}from"../chunks/searchFilm.CKQ20VzS.js";import{g as ae,a as fe}from"../chunks/entry.aaQkHcsM.js";import{U as q}from"../chunks/ui.button.wOTSGOzO.js";import{U as ue}from"../chunks/ui.loginProviders.svelte_svelte_type_style_lang.BUJJlbXz.js";import{p as P}from"../chunks/index.Df2uGT8m.js";import{A as $e}from"../chunks/arrow.BfNKM5ya.js";import{U as me}from"../chunks/ui.films.BFqcGv3F.js";function pe(i){let e,n;return{c(){e=se("svg"),n=se("path"),this.h()},l(t){e=re(t,"svg",{width:!0,height:!0,viewBox:!0,fill:!0,xmlns:!0});var s=H(e);n=re(s,"path",{d:!0,stroke:!0,"stroke-width":!0,"stroke-linecap":!0,"stroke-linejoin":!0}),H(n).forEach(g),s.forEach(g),this.h()},h(){p(n,"d","M12 15L15 12M15 12L12 9M15 12H4M4 7.24802V7.2002C4 6.08009 4 5.51962 4.21799 5.0918C4.40973 4.71547 4.71547 4.40973 5.0918 4.21799C5.51962 4 6.08009 4 7.2002 4H16.8002C17.9203 4 18.4796 4 18.9074 4.21799C19.2837 4.40973 19.5905 4.71547 19.7822 5.0918C20 5.5192 20 6.07899 20 7.19691V16.8036C20 17.9215 20 18.4805 19.7822 18.9079C19.5905 19.2842 19.2837 19.5905 18.9074 19.7822C18.48 20 17.921 20 16.8031 20H7.19691C6.07899 20 5.5192 20 5.0918 19.7822C4.71547 19.5905 4.40973 19.2839 4.21799 18.9076C4 18.4798 4 17.9201 4 16.8V16.75"),p(n,"stroke","white"),p(n,"stroke-width","2"),p(n,"stroke-linecap","round"),p(n,"stroke-linejoin","round"),p(e,"width","24"),p(e,"height","24"),p(e,"viewBox","0 0 24 24"),p(e,"fill","none"),p(e,"xmlns","http://www.w3.org/2000/svg")},m(t,s){V(t,e,s),k(e,n)},p:N,i:N,o:N,d(t){t&&g(e)}}}class ge extends j{constructor(e){super(),B(this,e,null,pe,A,{})}}function he(i){let e,n="Вход в Kinofree";return{c(){e=S("h2"),e.textContent=n,this.h()},l(t){e=L(t,"H2",{slot:!0,class:!0,"data-svelte-h":!0}),O(e)!=="svelte-1wppmlr"&&(e.textContent=n),this.h()},h(){p(e,"slot","title"),p(e,"class","svelte-pzapza")},m(t,s){V(t,e,s)},p:N,d(t){t&&g(e)}}}function de(i){let e,n,t="Войдите через удобный вам сервис",s,r,l,c='<img src="/icons/google.svg" alt="google"/>',$,f;return{c(){e=S("section"),n=S("span"),n.textContent=t,s=T(),r=S("ul"),l=S("button"),l.innerHTML=c,this.h()},l(a){e=L(a,"SECTION",{slot:!0,class:!0});var o=H(e);n=L(o,"SPAN",{"data-svelte-h":!0}),O(n)!=="svelte-11qkcq2"&&(n.textContent=t),s=M(o),r=L(o,"UL",{});var u=H(r);l=L(u,"BUTTON",{class:!0,"data-svelte-h":!0}),O(l)!=="svelte-13j3565"&&(l.innerHTML=c),u.forEach(g),o.forEach(g),this.h()},h(){p(l,"class","svelte-pzapza"),p(e,"slot","content"),p(e,"class","svelte-pzapza")},m(a,o){V(a,e,o),k(e,n),k(e,s),k(e,r),k(r,l),$||(f=y(l,"click",i[1]),$=!0)},p:N,d(a){a&&g(e),$=!1,f()}}}function _e(i){let e,n,t;function s(l){i[2](l)}let r={$$slots:{content:[de],title:[he]},$$scope:{ctx:i}};return i[0]!==void 0&&(r.isShow=i[0]),e=new ue({props:r}),K.push(()=>ee(e,"isShow",s)),{c(){z(e.$$.fragment)},l(l){E(e.$$.fragment,l)},m(l,c){U(e,l,c),t=!0},p(l,[c]){const $={};c&8&&($.$$scope={dirty:c,ctx:l}),!n&&c&1&&(n=!0,$.isShow=l[0],Z(()=>n=!1)),e.$set($)},i(l){t||(h(e.$$.fragment,l),t=!0)},o(l){v(e.$$.fragment,l),t=!1},d(l){x(e,l)}}}function ve(i,e,n){let{isShow:t}=e;async function s(){await P.collection("users").authWithOAuth2({provider:"google"}),ae("")}function r(l){t=l,n(0,t)}return i.$$set=l=>{"isShow"in l&&n(0,t=l.isShow)},[t,s,r]}class be extends j{constructor(e){super(),B(this,e,ve,_e,A,{isShow:0})}}function we(i){let e,n='<p class="svelte-zpnp51">Войти в аккаунт</p> <span class="svelte-zpnp51">Синхронизация списков на разных устройствах</span>',t,s,r,l,c,$;function f(o){i[2](o)}let a={};return i[0]!==void 0&&(a.isShow=i[0]),s=new be({props:a}),K.push(()=>ee(s,"isShow",f)),{c(){e=S("button"),e.innerHTML=n,t=T(),z(s.$$.fragment),this.h()},l(o){e=L(o,"BUTTON",{class:!0,"data-svelte-h":!0}),O(e)!=="svelte-cli9t6"&&(e.innerHTML=n),t=M(o),E(s.$$.fragment,o),this.h()},h(){p(e,"class","login svelte-zpnp51")},m(o,u){V(o,e,u),V(o,t,u),U(s,o,u),l=!0,c||($=y(e,"click",i[1]),c=!0)},p(o,[u]){const m={};!r&&u&1&&(r=!0,m.isShow=o[0],Z(()=>r=!1)),s.$set(m)},i(o){l||(h(s.$$.fragment,o),l=!0)},o(o){v(s.$$.fragment,o),l=!1},d(o){o&&(g(e),g(t)),x(s,o),c=!1,$()}}}function ke(i,e,n){let t=!1;const s=()=>n(0,t=!0);function r(l){t=l,n(0,t)}return[t,s,r]}class Ce extends j{constructor(e){super(),B(this,e,ke,we,A,{})}}function Se(i){let e,n;return e=new ge({}),{c(){z(e.$$.fragment)},l(t){E(e.$$.fragment,t)},m(t,s){U(e,t,s),n=!0},i(t){n||(h(e.$$.fragment,t),n=!0)},o(t){v(e.$$.fragment,t),n=!1},d(t){x(e,t)}}}function Le(i){let e,n;return e=new q({props:{dark:!0,circle:!0,$$slots:{default:[Se]},$$scope:{ctx:i}}}),e.$on("click",i[0]),{c(){z(e.$$.fragment)},l(t){E(e.$$.fragment,t)},m(t,s){U(e,t,s),n=!0},p(t,[s]){const r={};s&2&&(r.$$scope={dirty:s,ctx:t}),e.$set(r)},i(t){n||(h(e.$$.fragment,t),n=!0)},o(t){v(e.$$.fragment,t),n=!1},d(t){x(e,t)}}}function ze(i){function e(){P.authStore.clear(),ae("")}return[e]}class Ee extends j{constructor(e){super(),B(this,e,ze,Le,A,{})}}function le(i){let e,n;return e=new Ce({}),{c(){z(e.$$.fragment)},l(t){E(e.$$.fragment,t)},m(t,s){U(e,t,s),n=!0},i(t){n||(h(e.$$.fragment,t),n=!0)},o(t){v(e.$$.fragment,t),n=!1},d(t){x(e,t)}}}function Ue(i){let e,n;return e=new $e({props:{left:!0}}),{c(){z(e.$$.fragment)},l(t){E(e.$$.fragment,t)},m(t,s){U(e,t,s),n=!0},p:N,i(t){n||(h(e.$$.fragment,t),n=!0)},o(t){v(e.$$.fragment,t),n=!1},d(t){x(e,t)}}}function ie(i){var $,f;let e,n,t=((f=($=P.authStore.model)==null?void 0:$.email)==null?void 0:f.split("@")[0])+"",s,r,l,c;return l=new Ee({}),{c(){e=S("div"),n=S("p"),s=G(t),r=T(),z(l.$$.fragment),this.h()},l(a){e=L(a,"DIV",{class:!0});var o=H(e);n=L(o,"P",{class:!0});var u=H(n);s=J(u,t),u.forEach(g),r=M(o),E(l.$$.fragment,o),o.forEach(g),this.h()},h(){p(n,"class","svelte-13k0ezt"),p(e,"class","user svelte-13k0ezt")},m(a,o){V(a,e,o),k(e,n),k(n,s),k(e,r),U(l,e,null),c=!0},i(a){c||(h(l.$$.fragment,a),c=!0)},o(a){v(l.$$.fragment,a),c=!1},d(a){a&&g(e),x(l)}}}function xe(i){let e;return{c(){e=G("История")},l(n){e=J(n,"История")},m(n,t){V(n,e,t)},d(n){n&&g(e)}}}function oe(i){let e,n,t,s;return e=new q({props:{toggle:!0,active:i[0]=="view",$$slots:{default:[He]},$$scope:{ctx:i}}}),e.$on("click",i[7]),t=new q({props:{toggle:!0,active:i[0]=="planned",$$slots:{default:[Ve]},$$scope:{ctx:i}}}),t.$on("click",i[8]),{c(){z(e.$$.fragment),n=T(),z(t.$$.fragment)},l(r){E(e.$$.fragment,r),n=M(r),E(t.$$.fragment,r)},m(r,l){U(e,r,l),V(r,n,l),U(t,r,l),s=!0},p(r,l){const c={};l&1&&(c.active=r[0]=="view"),l&4096&&(c.$$scope={dirty:l,ctx:r}),e.$set(c);const $={};l&1&&($.active=r[0]=="planned"),l&4096&&($.$$scope={dirty:l,ctx:r}),t.$set($)},i(r){s||(h(e.$$.fragment,r),h(t.$$.fragment,r),s=!0)},o(r){v(e.$$.fragment,r),v(t.$$.fragment,r),s=!1},d(r){r&&g(n),x(e,r),x(t,r)}}}function He(i){let e;return{c(){e=G("Смотрю")},l(n){e=J(n,"Смотрю")},m(n,t){V(n,e,t)},d(n){n&&g(e)}}}function Ve(i){let e;return{c(){e=G("Буду смотреть")},l(n){e=J(n,"Буду смотреть")},m(n,t){V(n,e,t)},d(n){n&&g(e)}}}function Te(i){let e,n,t,s,r,l,c,$="Профиль",f,a,o,u,m,Q,W,R,te,b=!i[2]&&le();r=new q({props:{title:"Назад",nav:!0,vibro:!0,dark:!0,circle:!0,$$slots:{default:[Ue]},$$scope:{ctx:i}}}),r.$on("click",i[5]);let w=i[2]&&ie();m=new q({props:{toggle:!0,active:i[0]=="history",$$slots:{default:[xe]},$$scope:{ctx:i}}}),m.$on("click",i[6]);let d=i[2]&&oe(i);return{c(){e=S("section"),b&&b.c(),n=T(),t=S("div"),s=S("div"),z(r.$$.fragment),l=T(),c=S("h2"),c.textContent=$,f=T(),w&&w.c(),a=T(),o=S("div"),u=S("nav"),z(m.$$.fragment),Q=T(),d&&d.c(),this.h()},l(_){e=L(_,"SECTION",{class:!0});var C=H(e);b&&b.l(C),n=M(C),t=L(C,"DIV",{class:!0});var I=H(t);s=L(I,"DIV",{class:!0});var D=H(s);E(r.$$.fragment,D),D.forEach(g),l=M(I),c=L(I,"H2",{class:!0,"data-svelte-h":!0}),O(c)!=="svelte-12joxbi"&&(c.textContent=$),f=M(I),w&&w.l(I),I.forEach(g),a=M(C),o=L(C,"DIV",{class:!0});var ne=H(o);u=L(ne,"NAV",{class:!0});var F=H(u);E(m.$$.fragment,F),Q=M(F),d&&d.l(F),F.forEach(g),ne.forEach(g),C.forEach(g),this.h()},h(){p(s,"class","back svelte-13k0ezt"),p(c,"class","svelte-13k0ezt"),p(t,"class","top svelte-13k0ezt"),p(u,"class","svelte-13k0ezt"),p(o,"class","bottom svelte-13k0ezt"),p(e,"class","svelte-13k0ezt")},m(_,C){V(_,e,C),b&&b.m(e,null),k(e,n),k(e,t),k(t,s),U(r,s,null),k(t,l),k(t,c),k(t,f),w&&w.m(t,null),k(e,a),k(e,o),k(o,u),U(m,u,null),k(u,Q),d&&d.m(u,null),i[9](u),W=!0,R||(te=y(u,"scroll",i[4]),R=!0)},p(_,[C]){_[2]?b&&(X(),v(b,1,1,()=>{b=null}),Y()):b?C&4&&h(b,1):(b=le(),b.c(),h(b,1),b.m(e,n));const I={};C&4096&&(I.$$scope={dirty:C,ctx:_}),r.$set(I),_[2]?w?C&4&&h(w,1):(w=ie(),w.c(),h(w,1),w.m(t,null)):w&&(X(),v(w,1,1,()=>{w=null}),Y());const D={};C&1&&(D.active=_[0]=="history"),C&4096&&(D.$$scope={dirty:C,ctx:_}),m.$set(D),_[2]?d?(d.p(_,C),C&4&&h(d,1)):(d=oe(_),d.c(),h(d,1),d.m(u,null)):d&&(X(),v(d,1,1,()=>{d=null}),Y())},i(_){W||(h(b),h(r.$$.fragment,_),h(w),h(m.$$.fragment,_),h(d),W=!0)},o(_){v(b),v(r.$$.fragment,_),v(w),v(m.$$.fragment,_),v(d),W=!1},d(_){_&&g(e),b&&b.d(),x(r),w&&w.d(),x(m),d&&d.d(),i[9](null),R=!1,te()}}}function Me(i,e,n){let{activeList:t="history"}=e,s,r=P.authStore.isValid;function l(m){n(0,t=m)}function c(){let m=s.scrollLeft/(s.scrollWidth-s.clientWidth);m<.01&&n(1,s.style="mask-image: linear-gradient(90deg,transparent 0%,rgba(0, 0, 0, 1) 0%,rgba(0, 0, 0, 1) 90%,transparent 100%)",s),m>.01&&m<.99&&n(1,s.style="mask-image: linear-gradient(90deg,transparent 0%,rgba(0, 0, 0, 1) 10%,rgba(0, 0, 0, 1) 90%,transparent 100%)",s),m>.99&&n(1,s.style="mask-image: linear-gradient(90deg,transparent 0%,rgba(0, 0, 0, 1) 10%,rgba(0, 0, 0, 1) 100%,transparent 100%)",s)}fe(()=>{ce.get(),n(2,r=P.authStore.isValid)});const $=()=>history.back(),f=()=>l("history"),a=()=>l("view"),o=()=>l("planned");function u(m){K[m?"unshift":"push"](()=>{s=m,n(1,s)})}return i.$$set=m=>{"activeList"in m&&n(0,t=m.activeList)},[t,s,r,l,c,$,f,a,o,u]}class Ie extends j{constructor(e){super(),B(this,e,Me,Te,A,{activeList:0})}}function Ne(i){let e,n,t,s,r,l;function c(f){i[1](f)}let $={};return i[0]!==void 0&&($.activeList=i[0]),n=new Ie({props:$}),K.push(()=>ee(n,"activeList",c)),r=new me({props:{type:i[0]}}),{c(){e=S("div"),z(n.$$.fragment),s=T(),z(r.$$.fragment),this.h()},l(f){e=L(f,"DIV",{class:!0});var a=H(e);E(n.$$.fragment,a),s=M(a),E(r.$$.fragment,a),a.forEach(g),this.h()},h(){p(e,"class","page-profile svelte-5o4glg")},m(f,a){V(f,e,a),U(n,e,null),k(e,s),U(r,e,null),l=!0},p(f,[a]){const o={};!t&&a&1&&(t=!0,o.activeList=f[0],Z(()=>t=!1)),n.$set(o);const u={};a&1&&(u.type=f[0]),r.$set(u)},i(f){l||(h(n.$$.fragment,f),h(r.$$.fragment,f),l=!0)},o(f){v(n.$$.fragment,f),v(r.$$.fragment,f),l=!1},d(f){f&&g(e),x(n),x(r)}}}function Ae(i,e,n){let t;function s(r){t=r,n(0,t)}return[t,s]}class je extends j{constructor(e){super(),B(this,e,Ae,Ne,A,{})}}function Be(i){let e,n;return e=new je({}),{c(){z(e.$$.fragment)},l(t){E(e.$$.fragment,t)},m(t,s){U(e,t,s),n=!0},p:N,i(t){n||(h(e.$$.fragment,t),n=!0)},o(t){v(e.$$.fragment,t),n=!1},d(t){x(e,t)}}}class Qe extends j{constructor(e){super(),B(this,e,null,Be,A,{})}}export{Qe as component};
