import{S as N,i as O,s as M,e as x,k as S,t as $,c as w,a as q,d,m as I,h as C,b as f,X as P,g as z,F as u,H as U,j as W,E as j,R as X,n as F,o as k,p as L,q as y,v as Y,w as V,x as G,y as K,B as Q,l as R,Q as Z,W as ee}from"../chunks/index-ab0a084c.js";function te(n){let e,o,a,t,s,r,l,i,v,p,b,c,h,g,E;return{c(){e=x("div"),o=x("a"),a=x("img"),r=S(),l=x("a"),i=x("h2"),v=$(n[2]),b=S(),c=x("button"),h=$("\u0443\u0434\u0430\u043B\u0438\u0442\u044C"),this.h()},l(_){e=w(_,"DIV",{class:!0});var m=q(e);o=w(m,"A",{href:!0});var B=q(o);a=w(B,"IMG",{class:!0,loading:!0,src:!0}),B.forEach(d),r=I(m),l=w(m,"A",{href:!0});var D=q(l);i=w(D,"H2",{class:!0,title:!0});var H=q(i);v=C(H,n[2]),H.forEach(d),D.forEach(d),b=I(m),c=w(m,"BUTTON",{class:!0});var J=q(c);h=C(J,"\u0443\u0434\u0430\u043B\u0438\u0442\u044C"),J.forEach(d),m.forEach(d),this.h()},h(){f(a,"class","card__img svelte-vfqopp"),f(a,"loading","lazy"),P(a.src,t=n[1])||f(a,"src",t),f(o,"href",s="/watch?id="+n[0]),f(i,"class","card__title svelte-vfqopp"),f(i,"title",n[2]),f(l,"href",p="/watch?id="+n[0]),f(c,"class","svelte-vfqopp"),f(e,"class","card svelte-vfqopp")},m(_,m){z(_,e,m),u(e,o),u(o,a),u(e,r),u(e,l),u(l,i),u(i,v),u(e,b),u(e,c),u(c,h),g||(E=U(c,"click",n[3]),g=!0)},p(_,[m]){m&2&&!P(a.src,t=_[1])&&f(a,"src",t),m&1&&s!==(s="/watch?id="+_[0])&&f(o,"href",s),m&4&&W(v,_[2]),m&4&&f(i,"title",_[2]),m&1&&p!==(p="/watch?id="+_[0])&&f(l,"href",p)},i:j,o:j,d(_){_&&d(e),g=!1,E()}}}function ae(n,e,o){var a=X();let{id:t}=e,{poster:s}=e,{name:r}=e;function l(){var i=JSON.parse(localStorage.getItem("watch_history"));i||(i=[]);var v=i.filter(b=>b.id==t)[0];if(v==null){console.error("Error target undefined");return}var p=i.indexOf(v);i.splice(p,1),localStorage.setItem("watch_history",JSON.stringify(i)),a("updateList")}return n.$$set=i=>{"id"in i&&o(0,t=i.id),"poster"in i&&o(1,s=i.poster),"name"in i&&o(2,r=i.name)},[t,s,r,l]}class ie extends N{constructor(e){super(),O(this,e,ae,te,M,{id:0,poster:1,name:2})}}function T(n,e,o){const a=n.slice();return a[2]=e[o],a}function oe(n){let e,o;return{c(){e=x("p"),o=$("\u0425\u0440\u0430\u043D\u0438\u0442 8 \u043F\u043E\u0441\u043B\u0435\u0434\u043D\u0438\u0445 \u043F\u0440\u043E\u0441\u043C\u043E\u0442\u0440\u043E\u0432"),this.h()},l(a){e=w(a,"P",{class:!0});var t=q(e);o=C(t,"\u0425\u0440\u0430\u043D\u0438\u0442 8 \u043F\u043E\u0441\u043B\u0435\u0434\u043D\u0438\u0445 \u043F\u0440\u043E\u0441\u043C\u043E\u0442\u0440\u043E\u0432"),t.forEach(d),this.h()},h(){f(e,"class","svelte-6c0joq")},m(a,t){z(a,e,t),u(e,o)},p:j,i:j,o:j,d(a){a&&d(e)}}}function re(n){let e,o,a=n[0],t=[];for(let r=0;r<a.length;r+=1)t[r]=A(T(n,a,r));const s=r=>k(t[r],1,1,()=>{t[r]=null});return{c(){for(let r=0;r<t.length;r+=1)t[r].c();e=R()},l(r){for(let l=0;l<t.length;l+=1)t[l].l(r);e=R()},m(r,l){for(let i=0;i<t.length;i+=1)t[i].m(r,l);z(r,e,l),o=!0},p(r,l){if(l&3){a=r[0];let i;for(i=0;i<a.length;i+=1){const v=T(r,a,i);t[i]?(t[i].p(v,l),y(t[i],1)):(t[i]=A(v),t[i].c(),y(t[i],1),t[i].m(e.parentNode,e))}for(F(),i=a.length;i<t.length;i+=1)s(i);L()}},i(r){if(!o){for(let l=0;l<a.length;l+=1)y(t[l]);o=!0}},o(r){t=t.filter(Boolean);for(let l=0;l<t.length;l+=1)k(t[l]);o=!1},d(r){Z(t,r),r&&d(e)}}}function A(n){let e,o;return e=new ie({props:{id:n[2].id,poster:n[2].poster,name:n[2].name}}),e.$on("updateList",n[1]),{c(){V(e.$$.fragment)},l(a){G(e.$$.fragment,a)},m(a,t){K(e,a,t),o=!0},p(a,t){const s={};t&1&&(s.id=a[2].id),t&1&&(s.poster=a[2].poster),t&1&&(s.name=a[2].name),e.$set(s)},i(a){o||(y(e.$$.fragment,a),o=!0)},o(a){k(e.$$.fragment,a),o=!1},d(a){Q(e,a)}}}function le(n){let e,o,a,t,s,r,l,i;const v=[re,oe],p=[];function b(c,h){return c[0][0]?0:1}return r=b(n),l=p[r]=v[r](n),{c(){e=x("section"),o=x("h2"),a=$("\u0418\u0441\u0442\u043E\u0440\u0438\u044F \u043F\u0440\u043E\u0441\u043C\u043E\u0442\u0440\u0430"),t=S(),s=x("div"),l.c(),this.h()},l(c){e=w(c,"SECTION",{class:!0});var h=q(e);o=w(h,"H2",{class:!0});var g=q(o);a=C(g,"\u0418\u0441\u0442\u043E\u0440\u0438\u044F \u043F\u0440\u043E\u0441\u043C\u043E\u0442\u0440\u0430"),g.forEach(d),t=I(h),s=w(h,"DIV",{class:!0});var E=q(s);l.l(E),E.forEach(d),h.forEach(d),this.h()},h(){f(o,"class","svelte-6c0joq"),f(s,"class","svelte-6c0joq"),f(e,"class","svelte-6c0joq")},m(c,h){z(c,e,h),u(e,o),u(o,a),u(e,t),u(e,s),p[r].m(s,null),i=!0},p(c,[h]){let g=r;r=b(c),r===g?p[r].p(c,h):(F(),k(p[g],1,1,()=>{p[g]=null}),L(),l=p[r],l?l.p(c,h):(l=p[r]=v[r](c),l.c()),y(l,1),l.m(s,null))},i(c){i||(y(l),i=!0)},o(c){k(l),i=!1},d(c){c&&d(e),p[r].d()}}}function ne(n,e,o){var a=[];Y(()=>{t()});function t(){o(0,a=JSON.parse(localStorage.getItem("watch_history")))}return[a,t]}class se extends N{constructor(e){super(),O(this,e,ne,le,M,{})}}function ce(n){let e,o,a;return o=new se({}),{c(){e=S(),V(o.$$.fragment),this.h()},l(t){ee('[data-svelte="svelte-1wvij6h"]',document.head).forEach(d),e=I(t),G(o.$$.fragment,t),this.h()},h(){document.title="KinoFree | \u0421\u043C\u043E\u0442\u0440\u0438\u0442\u0435 \u043A\u0438\u043D\u043E \u043E\u043D\u043B\u0430\u0439\u043D"},m(t,s){z(t,e,s),K(o,t,s),a=!0},p:j,i(t){a||(y(o.$$.fragment,t),a=!0)},o(t){k(o.$$.fragment,t),a=!1},d(t){t&&d(e),Q(o,t)}}}class pe extends N{constructor(e){super(),O(this,e,null,ce,M,{})}}export{pe as default};
