import{S as ce,i as de,s as se,e as g,c as v,a as x,d,b as m,X as $e,g as re,E as ne,J as X,v as Re,K as z,w as Z,x as Q,y as Y,q as F,o as K,B as ee,t as O,k as y,h as N,m as k,F as s,H as Se,j as le,n as Ce,p as Me,I as Le,W as Pe}from"../chunks/index-ab0a084c.js";import{w as qe}from"../chunks/index-a2dc028c.js";import{g as pe,s as ue,r as me,a as Oe}from"../chunks/store-f9399cb0.js";import{a as Ae,S as ze}from"../chunks/selector-975eddd8.js";import{R as Ne}from"../chunks/result-f58d0401.js";import"../chunks/singletons-d1fb5791.js";const he=qe(),U=qe();function Fe(r){let e,a;return{c(){e=g("iframe"),this.h()},l(i){e=v(i,"IFRAME",{class:!0,sandbox:!0,allow:!0,src:!0}),x(e).forEach(d),this.h()},h(){m(e,"class","watch__player svelte-rog9m2"),e.allowFullscreen=!0,m(e,"sandbox","allow-same-origin allow-scripts"),m(e,"allow","autoplay *"),$e(e.src,a=r[0])||m(e,"src",a)},m(i,l){re(i,e,l)},p(i,[l]){l&1&&!$e(e.src,a=i[0])&&m(e,"src",a)},i:ne,o:ne,d(i){i&&d(e)}}}function Ke(r,e,a){let i,l;X(r,he,t=>a(1,i=t)),X(r,U,t=>a(0,l=t)),Ae(()=>{n()}),Re(()=>{n()});function n(){var t=pe();z(he,i=t.id,i),z(U,l="https://api1629919197.tobaco.ws/embed/kp/"+i,l)}return[l]}class Je extends ce{constructor(e){super(),de(this,e,Ke,Fe,se,{})}}function Ee(r){let e,a;return e=new ze({props:{id:"filmState",className:"filminfo__other",value:r[5],options:["\u041D\u0435 \u043F\u0440\u043E\u0441\u043C\u043E\u0442\u0440\u0435\u043D\u043E","\u0421\u043C\u043E\u0442\u0440\u044E","\u041F\u0440\u043E\u0441\u043C\u043E\u0442\u0440\u0435\u043D\u043E","\u0417\u0430\u043F\u043B\u0430\u043D\u0438\u0440\u043E\u0432\u0430\u043D\u043E"]}}),e.$on("optionselect",r[8]),{c(){Z(e.$$.fragment)},l(i){Q(e.$$.fragment,i)},m(i,l){Y(e,i,l),a=!0},p(i,l){const n={};l&32&&(n.value=i[5]),e.$set(n)},i(i){a||(F(e.$$.fragment,i),a=!0)},o(i){K(e.$$.fragment,i),a=!1},d(i){ee(e,i)}}}function Ue(r){let e,a,i,l,n,t,o,w,b,J,V,I,B,te,q,D,oe,u,p=r[5],L,R,G,H,C,T,W,P,ae,f,h,j,A,$,ie,fe,S=Ee(r);return A=new ze({props:{id:"playerUsed",className:"filminfo__other",value:0,options:["ALPHA","BETA","GAMMA"]}}),A.$on("optionselect",r[6]),{c(){e=g("div"),a=g("div"),i=g("h2"),l=O(r[0]),n=y(),t=g("small"),o=O(r[1]),w=y(),b=g("small"),J=O(r[2]),V=y(),I=g("small"),B=O(r[3]),te=y(),q=g("p"),D=O(r[4]),oe=y(),u=g("div"),S.c(),L=y(),R=g("a"),G=O("\u0421\u0432\u044F\u0437\u0430\u043D\u043D\u043E\u0435"),H=y(),C=g("a"),T=O("\u041F\u043E\u0445\u043E\u0436\u0435\u0435"),W=y(),P=g("br"),ae=y(),f=g("p"),h=O("\u041F\u043B\u0435\u0435\u0440:"),j=y(),Z(A.$$.fragment),this.h()},l(c){e=v(c,"DIV",{class:!0});var _=x(e);a=v(_,"DIV",{class:!0});var M=x(a);i=v(M,"H2",{class:!0,id:!0});var _e=x(i);l=N(_e,r[0]),_e.forEach(d),n=k(M),t=v(M,"SMALL",{class:!0,id:!0});var ge=x(t);o=N(ge,r[1]),ge.forEach(d),w=k(M),b=v(M,"SMALL",{class:!0,id:!0});var ve=x(b);J=N(ve,r[2]),ve.forEach(d),V=k(M),I=v(M,"SMALL",{class:!0,id:!0});var we=x(I);B=N(we,r[3]),we.forEach(d),te=k(M),q=v(M,"P",{class:!0,id:!0});var xe=x(q);D=N(xe,r[4]),xe.forEach(d),M.forEach(d),oe=k(_),u=v(_,"DIV",{class:!0});var E=x(u);S.l(E),L=k(E),R=v(E,"A",{class:!0});var ye=x(R);G=N(ye,"\u0421\u0432\u044F\u0437\u0430\u043D\u043D\u043E\u0435"),ye.forEach(d),H=k(E),C=v(E,"A",{class:!0});var ke=x(C);T=N(ke,"\u041F\u043E\u0445\u043E\u0436\u0435\u0435"),ke.forEach(d),W=k(E),P=v(E,"BR",{}),ae=k(E),f=v(E,"P",{class:!0});var be=x(f);h=N(be,"\u041F\u043B\u0435\u0435\u0440:"),be.forEach(d),j=k(E),Q(A.$$.fragment,E),E.forEach(d),_.forEach(d),this.h()},h(){m(i,"class","filminfo__title svelte-7lfe1d"),m(i,"id","title"),m(t,"class","filminfo__num svelte-7lfe1d"),m(t,"id","year"),m(b,"class","filminfo__num filminfo__num--rating svelte-7lfe1d"),m(b,"id","rating"),m(I,"class","filminfo__num svelte-7lfe1d"),m(I,"id","age"),m(q,"class","filminfo__desc svelte-7lfe1d"),m(q,"id","desc"),m(a,"class","filminfo__texts svelte-7lfe1d"),m(R,"class","link filminfo__other"),m(C,"class","link filminfo__other"),m(f,"class","filminfo__other"),m(u,"class","filminfo__nav svelte-7lfe1d"),m(e,"class","filminfo svelte-7lfe1d")},m(c,_){re(c,e,_),s(e,a),s(a,i),s(i,l),s(a,n),s(a,t),s(t,o),s(a,w),s(a,b),s(b,J),s(a,V),s(a,I),s(I,B),s(a,te),s(a,q),s(q,D),s(e,oe),s(e,u),S.m(u,null),s(u,L),s(u,R),s(R,G),s(u,H),s(u,C),s(C,T),s(u,W),s(u,P),s(u,ae),s(u,f),s(f,h),s(u,j),Y(A,u,null),$=!0,ie||(fe=[Se(R,"click",r[9]),Se(C,"click",r[10])],ie=!0)},p(c,[_]){(!$||_&1)&&le(l,c[0]),(!$||_&2)&&le(o,c[1]),(!$||_&4)&&le(J,c[2]),(!$||_&8)&&le(B,c[3]),(!$||_&16)&&le(D,c[4]),_&32&&se(p,p=c[5])?(Ce(),K(S,1,1,ne),Me(),S=Ee(c),S.c(),F(S,1),S.m(u,L)):S.p(c,_)},i(c){$||(F(S),F(A.$$.fragment,c),$=!0)},o(c){K(S),K(A.$$.fragment,c),$=!1},d(c){c&&d(e),S.d(c),ee(A),ie=!1,Le(fe)}}}function Ie(r,e,a,i,l,n,t){try{var o=r[n](t),w=o.value}catch(b){a(b);return}o.done?e(w):Promise.resolve(w).then(i,l)}function Ve(r){return function(){var e=this,a=arguments;return new Promise(function(i,l){var n=r.apply(e,a);function t(w){Ie(n,i,l,t,o,"next",w)}function o(w){Ie(n,i,l,t,o,"throw",w)}t(void 0)})}}function Be(r,e,a){let i,l,n,t;X(r,ue,p=>a(11,i=p)),X(r,me,p=>a(12,l=p)),X(r,he,p=>a(13,n=p)),X(r,U,p=>a(14,t=p));var o="\u0417\u0430\u0433\u0440\u0443\u0437\u043A\u0430...",[w,b,J,V]=Array(4).fill("-"),I=0;Ae(()=>B());var B=function(){var p=Ve(function*(){var L,R,G,H,C,T,W,P=pe(),ae="https://kinopoiskapiunofficial.tech/api/v2.2/films/"+P.id,f=yield Oe(ae),h=JSON.parse(localStorage.getItem("watch_history"));h||(h=[]);var j=h.filter(fe=>fe.id==P.id)[0];if(j==null){var A;h.unshift({id:P.id,name:(A=f.nameRu)!=null?A:f.nameOriginal,poster:f.posterUrlPreview}),h.length>8&&h.pop(),localStorage.setItem("watch_history",JSON.stringify(h))}else{var $,ie=h.indexOf(j);h.splice(ie,1),h.unshift({id:P.id,name:($=f.nameRu)!=null?$:f.nameOriginal,poster:f.posterUrlPreview}),h.length>8&&h.pop(),localStorage.setItem("watch_history",JSON.stringify(h))}document.title=f.nameRu+" \u2014 KinoFree",a(0,o=(L=(R=f.nameRu)!=null?R:f.nameOriginal)!=null?L:"-"),a(1,w=(G=f.year)!=null?G:"-"),a(2,b=(H=(C=(T=f.ratingKinopoisk)!=null?T:f.rating)!=null?C:f.ratingImdb)!=null?H:"-"),a(3,J=f.ratingAgeLimits?f.ratingAgeLimits.split("age")[1]+"+":"-"),a(4,V=(W=f.description)!=null?W:"-"),z(ue,i=void 0,i)});return function(){return p.apply(this,arguments)}}();function te(p){switch(p.detail.value){case 0:z(U,t="https://api1629919197.tobaco.ws/embed/kp/"+n,t);break;case 1:z(U,t="https://patriot.allohastream.com/?token=70f3e30270ec1a18376655a55e8646&kp="+n,t);break;case 2:z(U,t="https://vcdn.kinoapi.club/sZfbdItt5jeX?kp_id="+n,t);break;default:z(U,t="https://api1629919197.tobaco.ws/embed/kp/"+n,t)}}function q(p){z(me,l.search="id",l),z(me,l.id=pe().id,l),z(me,l.type=p,l),z(ue,i="search",i)}function D(p){a(5,I=p.detail.value),a(5,I=0)}return[o,w,b,J,V,I,te,q,D,()=>q("sequels_and_prequels"),()=>q("similars")]}class De extends ce{constructor(e){super(),de(this,e,Be,Ue,se,{})}}function Ge(r){let e,a,i,l,n;return a=new Je({}),l=new De({}),{c(){e=g("section"),Z(a.$$.fragment),i=y(),Z(l.$$.fragment),this.h()},l(t){e=v(t,"SECTION",{class:!0});var o=x(e);Q(a.$$.fragment,o),i=k(o),Q(l.$$.fragment,o),o.forEach(d),this.h()},h(){m(e,"class","watch svelte-1fo40gq")},m(t,o){re(t,e,o),Y(a,e,null),s(e,i),Y(l,e,null),n=!0},p:ne,i(t){n||(F(a.$$.fragment,t),F(l.$$.fragment,t),n=!0)},o(t){K(a.$$.fragment,t),K(l.$$.fragment,t),n=!1},d(t){t&&d(e),ee(a),ee(l)}}}class He extends ce{constructor(e){super(),de(this,e,null,Ge,se,{})}}function Te(r){let e,a,i,l,n;return a=new He({}),l=new Ne({}),{c(){e=y(),Z(a.$$.fragment),i=y(),Z(l.$$.fragment),this.h()},l(t){Pe('[data-svelte="svelte-1wvij6h"]',document.head).forEach(d),e=k(t),Q(a.$$.fragment,t),i=k(t),Q(l.$$.fragment,t),this.h()},h(){document.title="KinoFree | \u0421\u043C\u043E\u0442\u0440\u0438\u0442\u0435 \u043A\u0438\u043D\u043E \u043E\u043D\u043B\u0430\u0439\u043D"},m(t,o){re(t,e,o),Y(a,t,o),re(t,i,o),Y(l,t,o),n=!0},p:ne,i(t){n||(F(a.$$.fragment,t),F(l.$$.fragment,t),n=!0)},o(t){K(a.$$.fragment,t),K(l.$$.fragment,t),n=!1},d(t){t&&d(e),ee(a,t),t&&d(i),ee(l,t)}}}class et extends ce{constructor(e){super(),de(this,e,null,Te,se,{})}}export{et as default};
