import{S as O,i as $,s as M,e as g,k as S,t as I,c as x,a as w,d as p,m as C,h as N,b as f,X as P,g as z,F as d,H as Q,j as U,E as b,R as W,q as j,o as E,v as X,w as F,x as L,y as V,B as G,l as R,n as Y,p as Z,Q as ee,W as te}from"../chunks/index-ab0a084c.js";function ae(n){let e,o,a,t,s,i,l,r,u,_,q,c,m,y,k;return{c(){e=g("div"),o=g("a"),a=g("img"),i=S(),l=g("a"),r=g("h2"),u=I(n[2]),q=S(),c=g("button"),m=I("\u0443\u0434\u0430\u043B\u0438\u0442\u044C"),this.h()},l(v){e=x(v,"DIV",{class:!0});var h=w(e);o=x(h,"A",{href:!0});var B=w(o);a=x(B,"IMG",{class:!0,loading:!0,src:!0}),B.forEach(p),i=C(h),l=x(h,"A",{href:!0});var D=w(l);r=x(D,"H2",{class:!0,title:!0});var H=w(r);u=N(H,n[2]),H.forEach(p),D.forEach(p),q=C(h),c=x(h,"BUTTON",{class:!0});var J=w(c);m=N(J,"\u0443\u0434\u0430\u043B\u0438\u0442\u044C"),J.forEach(p),h.forEach(p),this.h()},h(){f(a,"class","card__img svelte-vfqopp"),f(a,"loading","lazy"),P(a.src,t=n[1])||f(a,"src",t),f(o,"href",s="/watch?id="+n[0]),f(r,"class","card__title svelte-vfqopp"),f(r,"title",n[2]),f(l,"href",_="/watch?id="+n[0]),f(c,"class","svelte-vfqopp"),f(e,"class","card svelte-vfqopp")},m(v,h){z(v,e,h),d(e,o),d(o,a),d(e,i),d(e,l),d(l,r),d(r,u),d(e,q),d(e,c),d(c,m),y||(k=Q(c,"click",n[3]),y=!0)},p(v,[h]){h&2&&!P(a.src,t=v[1])&&f(a,"src",t),h&1&&s!==(s="/watch?id="+v[0])&&f(o,"href",s),h&4&&U(u,v[2]),h&4&&f(r,"title",v[2]),h&1&&_!==(_="/watch?id="+v[0])&&f(l,"href",_)},i:b,o:b,d(v){v&&p(e),y=!1,k()}}}function re(n,e,o){var a=W();let{id:t}=e,{poster:s}=e,{name:i}=e;function l(){var r=JSON.parse(localStorage.getItem("watch_history"));r||(r=[]);var u=r.filter(q=>q.id==t)[0];if(u==null){console.error("Error target undefined");return}var _=r.indexOf(u);r.splice(_,1),localStorage.setItem("watch_history",JSON.stringify(r)),a("updateList")}return n.$$set=r=>{"id"in r&&o(0,t=r.id),"poster"in r&&o(1,s=r.poster),"name"in r&&o(2,i=r.name)},[t,s,i,l]}class oe extends O{constructor(e){super(),$(this,e,re,ae,M,{id:0,poster:1,name:2})}}function T(n,e,o){const a=n.slice();return a[1]=e[o],a}function ie(n){let e,o;return{c(){e=g("p"),o=I("\u0425\u0440\u0430\u043D\u0438\u0442 8 \u043F\u043E\u0441\u043B\u0435\u0434\u043D\u0438\u0445 \u043F\u0440\u043E\u0441\u043C\u043E\u0442\u0440\u043E\u0432"),this.h()},l(a){e=x(a,"P",{class:!0});var t=w(e);o=N(t,"\u0425\u0440\u0430\u043D\u0438\u0442 8 \u043F\u043E\u0441\u043B\u0435\u0434\u043D\u0438\u0445 \u043F\u0440\u043E\u0441\u043C\u043E\u0442\u0440\u043E\u0432"),t.forEach(p),this.h()},h(){f(e,"class","svelte-6c0joq")},m(a,t){z(a,e,t),d(e,o)},p:b,i:b,o:b,d(a){a&&p(e)}}}function le(n){let e,o,a=n[0],t=[];for(let i=0;i<a.length;i+=1)t[i]=A(T(n,a,i));const s=i=>E(t[i],1,1,()=>{t[i]=null});return{c(){for(let i=0;i<t.length;i+=1)t[i].c();e=R()},l(i){for(let l=0;l<t.length;l+=1)t[l].l(i);e=R()},m(i,l){for(let r=0;r<t.length;r+=1)t[r].m(i,l);z(i,e,l),o=!0},p(i,l){if(l&1){a=i[0];let r;for(r=0;r<a.length;r+=1){const u=T(i,a,r);t[r]?(t[r].p(u,l),j(t[r],1)):(t[r]=A(u),t[r].c(),j(t[r],1),t[r].m(e.parentNode,e))}for(Y(),r=a.length;r<t.length;r+=1)s(r);Z()}},i(i){if(!o){for(let l=0;l<a.length;l+=1)j(t[l]);o=!0}},o(i){t=t.filter(Boolean);for(let l=0;l<t.length;l+=1)E(t[l]);o=!1},d(i){ee(t,i),i&&p(e)}}}function A(n){let e,o;return e=new oe({props:{id:n[1].id,poster:n[1].poster,name:n[1].name}}),e.$on("updateList",K),{c(){F(e.$$.fragment)},l(a){L(e.$$.fragment,a)},m(a,t){V(e,a,t),o=!0},p:b,i(a){o||(j(e.$$.fragment,a),o=!0)},o(a){E(e.$$.fragment,a),o=!1},d(a){G(e,a)}}}function ne(n){let e,o,a,t,s,i,l,r;const u=[le,ie],_=[];function q(c,m){return c[0][0]?0:1}return i=q(n),l=_[i]=u[i](n),{c(){e=g("section"),o=g("h2"),a=I("\u0418\u0441\u0442\u043E\u0440\u0438\u044F \u043F\u0440\u043E\u0441\u043C\u043E\u0442\u0440\u0430"),t=S(),s=g("div"),l.c(),this.h()},l(c){e=x(c,"SECTION",{class:!0});var m=w(e);o=x(m,"H2",{class:!0});var y=w(o);a=N(y,"\u0418\u0441\u0442\u043E\u0440\u0438\u044F \u043F\u0440\u043E\u0441\u043C\u043E\u0442\u0440\u0430"),y.forEach(p),t=C(m),s=x(m,"DIV",{class:!0});var k=w(s);l.l(k),k.forEach(p),m.forEach(p),this.h()},h(){f(o,"class","svelte-6c0joq"),f(s,"class","svelte-6c0joq"),f(e,"class","svelte-6c0joq")},m(c,m){z(c,e,m),d(e,o),d(o,a),d(e,t),d(e,s),_[i].m(s,null),r=!0},p(c,[m]){l.p(c,m)},i(c){r||(j(l),r=!0)},o(c){E(l),r=!1},d(c){c&&p(e),_[i].d()}}}function K(){var n=localStorage.getItem("watch_history");n||localStorage.setItem("watch_history",[]),JSON.parse(n)}function se(n){var e=[];return X(()=>{K()}),[e]}class ce extends O{constructor(e){super(),$(this,e,se,ne,M,{})}}function fe(n){let e,o,a;return o=new ce({}),{c(){e=S(),F(o.$$.fragment),this.h()},l(t){te('[data-svelte="svelte-1wvij6h"]',document.head).forEach(p),e=C(t),L(o.$$.fragment,t),this.h()},h(){document.title="KinoFree | \u0421\u043C\u043E\u0442\u0440\u0438\u0442\u0435 \u043A\u0438\u043D\u043E \u043E\u043D\u043B\u0430\u0439\u043D"},m(t,s){z(t,e,s),V(o,t,s),a=!0},p:b,i(t){a||(j(o.$$.fragment,t),a=!0)},o(t){E(o.$$.fragment,t),a=!1},d(t){t&&p(e),G(o,t)}}}class he extends O{constructor(e){super(),$(this,e,null,fe,M,{})}}export{he as default};
