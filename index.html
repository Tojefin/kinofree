<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<link rel="stylesheet" href="assets/css/style.css">
	<link rel="preconnect" href="https://fonts.googleapis.com">
	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@300;700&display=swap" rel="stylesheet">
	<title>KinoFree</title>
</head>
<body>
<div class="main">
	<div class="container">
		<h1 class="title">KinoFree</h1>
		<text class="subtitle">Смотрите кино бесплатно</text>
		<div class="form" id="yohoho" data-tv="1" data-resize="1" data-bg="#242424" data-fast="1">
			<input type="text" placeholder="Название фильма / ID КиноПоиск" id="search-title" name="title" class="search">
                        <input type="button" value="Смотреть" id="search" class="button">
		</div>
	</div>
</div>
<div class="menu">
		<div class="menu_button">
			<a href="./">
				<svg class="u-svg-content" viewBox="0 0 512 512" x="0px" y="0px" id="svg-d182" style="fill: #fff;">
					<path d="m498.699219 222.695312c-.015625-.011718-.027344-.027343-.039063-.039062l-208.855468-208.847656c-8.902344-8.90625-20.738282-13.808594-33.328126-13.808594-12.589843 0-24.425781 4.902344-33.332031 13.808594l-208.746093 208.742187c-.070313.070313-.144532.144531-.210938.214844-18.28125 18.386719-18.25 48.21875.089844 66.558594 8.378906 8.382812 19.441406 13.234375 31.273437 13.746093.484375.046876.96875.070313 1.457031.070313h8.320313v153.695313c0 30.417968 24.75 55.164062 55.167969 55.164062h81.710937c8.285157 0 15-6.71875 15-15v-120.5c0-13.878906 11.292969-25.167969 25.171875-25.167969h48.195313c13.878906 0 25.167969 11.289063 25.167969 25.167969v120.5c0 8.28125 6.714843 15 15 15h81.710937c30.421875 0 55.167969-24.746094 55.167969-55.164062v-153.695313h7.71875c12.585937 0 24.421875-4.902344 33.332031-13.8125 18.359375-18.367187 18.367187-48.253906.027344-66.632813zm-21.242188 45.421876c-3.238281 3.238281-7.542969 5.023437-12.117187 5.023437h-22.71875c-8.285156 0-15 6.714844-15 15v168.695313c0 13.875-11.289063 25.164062-25.167969 25.164062h-66.710937v-105.5c0-30.417969-24.746094-55.167969-55.167969-55.167969h-48.195313c-30.421875 0-55.171875 24.75-55.171875 55.167969v105.5h-66.710937c-13.875 0-25.167969-11.289062-25.167969-25.164062v-168.695313c0-8.285156-6.714844-15-15-15h-22.328125c-.234375-.015625-.464844-.027344-.703125-.03125-4.46875-.078125-8.660156-1.851563-11.800781-4.996094-6.679688-6.679687-6.679688-17.550781 0-24.234375.003906 0 .003906-.003906.007812-.007812l.011719-.011719 208.847656-208.839844c3.234375-3.238281 7.535157-5.019531 12.113281-5.019531 4.574219 0 8.875 1.78125 12.113282 5.019531l208.800781 208.796875c.03125.03125.066406.0625.097656.09375 6.644531 6.691406 6.632813 17.539063-.03125 24.207032zm0 0"></path>
				</svg>
			</a>

		</div>
		<div class="menu_button">
			<a href="./">
				<svg class="u-svg-content" viewBox="0 0 512 512" x="0px" y="0px" id="svg-d182" style="fill: #fff;">
					<path d="M505.749,475.587l-145.6-145.6c28.203-34.837,45.184-79.104,45.184-127.317c0-111.744-90.923-202.667-202.667-202.667    S0,90.925,0,202.669s90.923,202.667,202.667,202.667c48.213,0,92.48-16.981,127.317-45.184l145.6,145.6    c4.16,4.16,9.621,6.251,15.083,6.251s10.923-2.091,15.083-6.251C514.091,497.411,514.091,483.928,505.749,475.587z     M202.667,362.669c-88.235,0-160-71.765-160-160s71.765-160,160-160s160,71.765,160,160S290.901,362.669,202.667,362.669z"></path>
				</svg>
			</a>
		</div>
		<div class="menu_button">
			<a href="./О нас">
				<svg class="u-svg-content" viewBox="0 0 512 512" x="0px" y="0px" id="svg-d182" style="fill: #fff;">
					<path d="M100.5,432h311c33.084,0,60-26.916,60-60V60c0-33.084-26.916-60-60-60h-311c-33.084,0-60,26.916-60,60v392  c0,33.084,26.916,60,60,60h291h20c33.084,0,60-26.916,60-60v-0.05c-16.725,12.583-37.506,20.05-60,20.05h-20h-291  c-11.028,0-20-8.972-20-20S89.472,432,100.5,432z M80.5,60c0-11.028,8.972-20,20-20h311c11.028,0,20,8.972,20,20v312  c0,11.028-8.972,20-20,20h-311c-7.009,0-13.742,1.208-20,3.427V60z M238.411,121c0-13.807,11.193-25,25-25s25,11.193,25,25  s-11.193,25-25,25S238.411,134.807,238.411,121z M212.977,224.815l-17.517-35.961c0.01-0.004,2.822-1.375,16.378-7.989  c16.264-7.937,35.427-6.206,50.01,4.517c14.578,10.721,21.94,28.493,19.212,46.381c-0.096,0.625-0.221,1.247-0.375,1.861  l-15.876,63.147c-0.328,3.996,1.984,6.354,3.448,7.431c1.549,1.138,4.747,2.757,8.771,0.792l13.589-6.63l17.54,35.949l-13.588,6.63  c-6.775,3.306-14.054,4.935-21.294,4.935c-10.142,0-20.208-3.194-28.716-9.451c-14.579-10.722-21.94-28.493-19.211-46.381  c0.096-0.626,0.221-1.247,0.375-1.861l15.876-63.147c0.328-3.996-1.985-6.354-3.449-7.431c-1.548-1.138-4.748-2.756-8.771-0.793  C215.78,223.45,212.977,224.815,212.977,224.815z">
					</path>
				</svg>
			</a>
		</div>
</div>

<script src="yo.js"></script>

<script>
    document.addEventListener('DOMContentLoaded', function () {

        var search = document.querySelector('#search');
        var title = document.querySelector('#search-title');

        if (window.location.hash) {
            var hash = window.location.hash.substring(1);
            if (title && hash) {
                title.value = decodeURIComponent(hash);
                parse();
            }
        }

        if (search) {
            search.addEventListener('click', function () {
                return parse();
            });
        }

        if (title) {
            title.addEventListener('keyup', function (event) {
                event.preventDefault();
                if (event.keyCode === 13) {
                    return parse();
                }
            });
        }

        function parse() {
            var player = document.querySelector('#yohoho');
            if (title && title.value && player) {
                if (/kinopoisk\.ru/i.test(title.value)) {
                    var exec = /(film\/|movie\/).*?([0-9]{3,7})\//gi.exec(title.value);
                    if (exec && exec[2]) {
                        player.dataset.kinopoisk = exec[2];
                        if (window.location.href === 'https://tojefin.github.io/kinofree/') {
                            window.location.href = 'kinofree/watch' + player.dataset.kinopoisk;
                            return;
                        }
                        window.location.hash = '/watch#' + player.dataset.kinopoisk;
                        document.title = 'KinoFree F| ' + player.dataset.kinopoisk;
                    }
                } else if (/^\d+$/.test(title.value)) {
                    player.dataset.kinopoisk = title.value;
                    if (window.location.href === 'https://tojefin.github.io/kinofree/') {
                        window.location.href = '/#' + player.dataset.kinopoisk;
                        return;
                    }
                    window.location.hash = '/watch#' + player.dataset.kinopoisk;
                    document.title = 'KinoFree S| ' + player.dataset.kinopoisk;
                } else {
                    player.dataset.title = encodeURIComponent(title.value);
                    if (window.location.href === 'https://tojefin.github.io/kinofree/') {
                        window.location.href = '#watch';
                        return;
                    }
                    window.location.hash = '#' + player.dataset.title;
                    document.title = 'KinoFree T| ' + title.value;
                }
                items = [];
                return yo();
            }
        }
    });
</script>

</body>
</html>
