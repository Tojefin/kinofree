import{S as C,i as M,s as J,e as w,k as I,t as N,c as x,a as k,d,m as O,h as $,b as f,X as P,g as z,F as v,H as U,j as W,E as q,R as X,n as F,o as E,p as L,q as y,v as Y,w as V,x as G,y as K,B as Q,l as R,Q as Z,W as ee}from"../chunks/index-ab0a084c.js";function te(n){let e,r,a,t,o,s,l,i,u,h,b,c,m,g,S;return{c(){e=w("div"),r=w("a"),a=w("img"),s=I(),l=w("a"),i=w("h2"),u=N(n[2]),b=I(),c=w("button"),m=N("\u0443\u0434\u0430\u043B\u0438\u0442\u044C"),this.h()},l(_){e=x(_,"DIV",{class:!0});var p=k(e);r=x(p,"A",{href:!0});var j=k(r);a=x(j,"IMG",{class:!0,loading:!0,src:!0}),j.forEach(d),s=O(p),l=x(p,"A",{href:!0});var B=k(l);i=x(B,"H2",{class:!0,title:!0});var D=k(i);u=$(D,n[2]),D.forEach(d),B.forEach(d),b=O(p),c=x(p,"BUTTON",{class:!0});var H=k(c);m=$(H,"\u0443\u0434\u0430\u043B\u0438\u0442\u044C"),H.forEach(d),p.forEach(d),this.h()},h(){f(a,"class","card__img svelte-wk1aqs"),f(a,"loading","lazy"),P(a.src,t=n[1])||f(a,"src",t),f(r,"href",o="/watch?id="+n[0]),f(i,"class","card__title svelte-wk1aqs"),f(i,"title",n[2]),f(l,"href",h="/watch?id="+n[0]),f(c,"class","svelte-wk1aqs"),f(e,"class","card svelte-wk1aqs")},m(_,p){z(_,e,p),v(e,r),v(r,a),v(e,s),v(e,l),v(l,i),v(i,u),v(e,b),v(e,c),v(c,m),g||(S=U(c,"click",n[3]),g=!0)},p(_,[p]){p&2&&!P(a.src,t=_[1])&&f(a,"src",t),p&1&&o!==(o="/watch?id="+_[0])&&f(r,"href",o),p&4&&W(u,_[2]),p&4&&f(i,"title",_[2]),p&1&&h!==(h="/watch?id="+_[0])&&f(l,"href",h)},i:q,o:q,d(_){_&&d(e),g=!1,S()}}}function ae(n,e,r){var a=X();let{id:t}=e,{poster:o}=e,{name:s}=e;function l(){var i=JSON.parse(localStorage.getItem("watch_history"));i||(i=[]);var u=i.filter(b=>b.id==t)[0];if(u==null){console.error("Error target undefined");return}var h=i.indexOf(u);i.splice(h,1),localStorage.setItem("watch_history",JSON.stringify(i)),a("updateList")}return n.$$set=i=>{"id"in i&&r(0,t=i.id),"poster"in i&&r(1,o=i.poster),"name"in i&&r(2,s=i.name)},[t,o,s,l]}class ie extends C{constructor(e){super(),M(this,e,ae,te,J,{id:0,poster:1,name:2})}}function T(n,e,r){const a=n.slice();return a[2]=e[r],a}function re(n){let e,r;return{c(){e=w("p"),r=N("\u0425\u0440\u0430\u043D\u0438\u0442 8 \u043F\u043E\u0441\u043B\u0435\u0434\u043D\u0438\u0445 \u043F\u0440\u043E\u0441\u043C\u043E\u0442\u0440\u043E\u0432"),this.h()},l(a){e=x(a,"P",{class:!0});var t=k(e);r=$(t,"\u0425\u0440\u0430\u043D\u0438\u0442 8 \u043F\u043E\u0441\u043B\u0435\u0434\u043D\u0438\u0445 \u043F\u0440\u043E\u0441\u043C\u043E\u0442\u0440\u043E\u0432"),t.forEach(d),this.h()},h(){f(e,"class","svelte-vawvf4")},m(a,t){z(a,e,t),v(e,r)},p:q,i:q,o:q,d(a){a&&d(e)}}}function se(n){let e,r,a=n[0],t=[];for(let s=0;s<a.length;s+=1)t[s]=A(T(n,a,s));const o=s=>E(t[s],1,1,()=>{t[s]=null});return{c(){for(let s=0;s<t.length;s+=1)t[s].c();e=R()},l(s){for(let l=0;l<t.length;l+=1)t[l].l(s);e=R()},m(s,l){for(let i=0;i<t.length;i+=1)t[i].m(s,l);z(s,e,l),r=!0},p(s,l){if(l&3){a=s[0];let i;for(i=0;i<a.length;i+=1){const u=T(s,a,i);t[i]?(t[i].p(u,l),y(t[i],1)):(t[i]=A(u),t[i].c(),y(t[i],1),t[i].m(e.parentNode,e))}for(F(),i=a.length;i<t.length;i+=1)o(i);L()}},i(s){if(!r){for(let l=0;l<a.length;l+=1)y(t[l]);r=!0}},o(s){t=t.filter(Boolean);for(let l=0;l<t.length;l+=1)E(t[l]);r=!1},d(s){Z(t,s),s&&d(e)}}}function A(n){let e,r;return e=new ie({props:{id:n[2].id,poster:n[2].poster,name:n[2].name}}),e.$on("updateList",n[1]),{c(){V(e.$$.fragment)},l(a){G(e.$$.fragment,a)},m(a,t){K(e,a,t),r=!0},p(a,t){const o={};t&1&&(o.id=a[2].id),t&1&&(o.poster=a[2].poster),t&1&&(o.name=a[2].name),e.$set(o)},i(a){r||(y(e.$$.fragment,a),r=!0)},o(a){E(e.$$.fragment,a),r=!1},d(a){Q(e,a)}}}function le(n){let e,r,a,t,o,s,l,i;const u=[se,re],h=[];function b(c,m){return c[0][0]?0:1}return s=b(n),l=h[s]=u[s](n),{c(){e=w("section"),r=w("h2"),a=N("\u0418\u0441\u0442\u043E\u0440\u0438\u044F \u043F\u0440\u043E\u0441\u043C\u043E\u0442\u0440\u0430"),t=I(),o=w("div"),l.c(),this.h()},l(c){e=x(c,"SECTION",{class:!0});var m=k(e);r=x(m,"H2",{class:!0});var g=k(r);a=$(g,"\u0418\u0441\u0442\u043E\u0440\u0438\u044F \u043F\u0440\u043E\u0441\u043C\u043E\u0442\u0440\u0430"),g.forEach(d),t=O(m),o=x(m,"DIV",{class:!0});var S=k(o);l.l(S),S.forEach(d),m.forEach(d),this.h()},h(){f(r,"class","svelte-vawvf4"),f(o,"class","svelte-vawvf4"),f(e,"class","svelte-vawvf4")},m(c,m){z(c,e,m),v(e,r),v(r,a),v(e,t),v(e,o),h[s].m(o,null),i=!0},p(c,[m]){let g=s;s=b(c),s===g?h[s].p(c,m):(F(),E(h[g],1,1,()=>{h[g]=null}),L(),l=h[s],l?l.p(c,m):(l=h[s]=u[s](c),l.c()),y(l,1),l.m(o,null))},i(c){i||(y(l),i=!0)},o(c){E(l),i=!1},d(c){c&&d(e),h[s].d()}}}function ne(n,e,r){var a=[];Y(()=>{t()});function t(){r(0,a=JSON.parse(localStorage.getItem("watch_history"))),a||(localStorage.setItem("watch_history",JSON.stringify([])),r(0,a=[]))}return[a,t]}class oe extends C{constructor(e){super(),M(this,e,ne,le,J,{})}}function ce(n){let e,r,a;return r=new oe({}),{c(){e=I(),V(r.$$.fragment),this.h()},l(t){ee('[data-svelte="svelte-1wvij6h"]',document.head).forEach(d),e=O(t),G(r.$$.fragment,t),this.h()},h(){document.title="KinoFree | \u0421\u043C\u043E\u0442\u0440\u0438\u0442\u0435 \u043A\u0438\u043D\u043E \u043E\u043D\u043B\u0430\u0439\u043D"},m(t,o){z(t,e,o),K(r,t,o),a=!0},p:q,i(t){a||(y(r.$$.fragment,t),a=!0)},o(t){E(r.$$.fragment,t),a=!1},d(t){t&&d(e),Q(r,t)}}}class he extends C{constructor(e){super(),M(this,e,null,ce,J,{})}}export{he as default};
