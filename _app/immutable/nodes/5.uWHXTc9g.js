import{s as I,n as P,c as R}from"../chunks/scheduler.hW0JTbzp.js";import{S as B,i as H,e as y,k as $,s as w,c as S,a as E,l as u,d as _,f as b,n as F,g as N,h as v,p,u as g,v as h,w as d}from"../chunks/index.vbNZMW90.js";import{B as x,A,H as C,F as D}from"../chunks/watchPlayer.svelte_svelte_type_style_lang.qTQ3mXxd.js";import{S as O,s as V}from"../chunks/searchBar.7nGO9Bfa.js";import{o as q}from"../chunks/_options.ppq8KazM.js";import{a as L}from"../chunks/entry.aHwLH3ax.js";import{p as T}from"../chunks/stores.iecUiYn6.js";import{R as U}from"../chunks/resultCard.cMsrRMUI.js";let z="https://kinopoiskapiunofficial.tech/api/v2.2/films/collections";async function G(c=1){return await(await fetch(`${z}?page=${c}`,q)).json()}function J(c){let e,t;return e=new A({props:{left:!0}}),{c(){$(e.$$.fragment)},l(r){u(e.$$.fragment,r)},m(r,s){p(e,r,s),t=!0},p:P,i(r){t||(g(e.$$.fragment,r),t=!0)},o(r){h(e.$$.fragment,r),t=!1},d(r){d(e,r)}}}function K(c){let e,t,r,s,l,i;return r=new x({props:{title:"Назад",nav:!0,vibro:!0,dark:!0,circle:!0,$$slots:{default:[J]},$$scope:{ctx:c}}}),r.$on("click",c[0]),l=new O({}),{c(){e=y("section"),t=y("div"),$(r.$$.fragment),s=w(),$(l.$$.fragment),this.h()},l(n){e=S(n,"SECTION",{class:!0});var a=E(e);t=S(a,"DIV",{class:!0});var m=E(t);u(r.$$.fragment,m),m.forEach(_),s=b(a),u(l.$$.fragment,a),a.forEach(_),this.h()},h(){F(t,"class","back svelte-vll3dj"),F(e,"class","svelte-vll3dj")},m(n,a){N(n,e,a),v(e,t),p(r,t,null),v(e,s),p(l,e,null),i=!0},p(n,[a]){const m={};a&2&&(m.$$scope={dirty:a,ctx:n}),r.$set(m)},i(n){i||(g(r.$$.fragment,n),g(l.$$.fragment,n),i=!0)},o(n){h(r.$$.fragment,n),h(l.$$.fragment,n),i=!1},d(n){n&&_(e),d(r),d(l)}}}function M(c){return[()=>history.back()]}class Q extends B{constructor(e){super(),H(this,e,M,K,I,{})}}function W(c){let e,t,r,s,l,i,n,a,m;return t=new C({}),s=new Q({}),i=new U({props:{list:c[0],lable:c[1],nothing:{title:"Ничего не найдено",text:"Попробуйте другой запрос для поиска"}}}),a=new D({}),{c(){e=y("div"),$(t.$$.fragment),r=w(),$(s.$$.fragment),l=w(),$(i.$$.fragment),n=w(),$(a.$$.fragment),this.h()},l(o){e=S(o,"DIV",{class:!0});var f=E(e);u(t.$$.fragment,f),r=b(f),u(s.$$.fragment,f),l=b(f),u(i.$$.fragment,f),n=b(f),u(a.$$.fragment,f),f.forEach(_),this.h()},h(){F(e,"class","page-main svelte-h7c1f0")},m(o,f){N(o,e,f),p(t,e,null),v(e,r),p(s,e,null),v(e,l),p(i,e,null),v(e,n),p(a,e,null),m=!0},p(o,[f]){const k={};f&1&&(k.list=o[0]),f&2&&(k.lable=o[1]),i.$set(k)},i(o){m||(g(t.$$.fragment,o),g(s.$$.fragment,o),g(i.$$.fragment,o),g(a.$$.fragment,o),m=!0)},o(o){h(t.$$.fragment,o),h(s.$$.fragment,o),h(i.$$.fragment,o),h(a.$$.fragment,o),m=!1},d(o){o&&_(e),d(t),d(s),d(i),d(a)}}}let j=1;function X(c,e,t){let r;R(c,T,a=>t(3,r=a));let s,l,i="";async function n(){if(s.key){let a=await V(s.key,j);t(0,l=a.films),t(1,i="Вот что нашли")}if(s.popular==""){let a=await G(j);t(0,l=a.items),t(1,i="Популярное")}}return L(async()=>{s=Object.fromEntries(r.url.searchParams),t(0,l=void 0),await n()}),[l,i]}class oe extends B{constructor(e){super(),H(this,e,X,W,I,{})}}export{oe as component};
