import{S as ce,i as de,s as se,e as g,c as v,a as x,d,b as m,M as $e,g as re,E as ne,J as X,v as Me,K as z,w as Z,x as Q,y as Y,q as F,o as K,B as ee,t as N,k as y,h as O,m as k,F as s,H as Se,j as le,n as Re,p as Ce,I as Pe,X as Le}from"../chunks/index-871885c7.js";import{w as qe}from"../chunks/index-e23cdcb1.js";import{b as Ae,g as ue,s as pe,r as me,c as Ne}from"../chunks/navigation-a2076b93.js";import{S as ze}from"../chunks/selector-0b188f07.js";import{R as Oe}from"../chunks/result-422e56b3.js";import"../chunks/singletons-d1fb5791.js";const he=qe(),J=qe();function Fe(r){let e,a;return{c(){e=g("iframe"),this.h()},l(i){e=v(i,"IFRAME",{class:!0,sandbox:!0,allow:!0,src:!0}),x(e).forEach(d),this.h()},h(){m(e,"class","watch__player svelte-rog9m2"),e.allowFullscreen=!0,m(e,"sandbox","allow-same-origin allow-scripts"),m(e,"allow","autoplay *"),$e(e.src,a=r[0])||m(e,"src",a)},m(i,l){re(i,e,l)},p(i,[l]){l&1&&!$e(e.src,a=i[0])&&m(e,"src",a)},i:ne,o:ne,d(i){i&&d(e)}}}function Ke(r,e,a){let i,l;X(r,he,t=>a(1,i=t)),X(r,J,t=>a(0,l=t)),Ae(()=>{n()}),Me(()=>{n()});function n(){var t=ue();z(he,i=t.id,i),z(J,l="https://api.framprox.ws/embed/kp/"+i,l)}return[l]}class je extends ce{constructor(e){super(),de(this,e,Ke,Fe,se,{})}}function Ee(r){let e,a;return e=new ze({props:{id:"filmState",className:"filminfo__other",value:r[5],options:["\u041D\u0435 \u043F\u0440\u043E\u0441\u043C\u043E\u0442\u0440\u0435\u043D\u043E","\u0421\u043C\u043E\u0442\u0440\u044E","\u041F\u0440\u043E\u0441\u043C\u043E\u0442\u0440\u0435\u043D\u043E","\u0417\u0430\u043F\u043B\u0430\u043D\u0438\u0440\u043E\u0432\u0430\u043D\u043E"]}}),e.$on("optionselect",r[8]),{c(){Z(e.$$.fragment)},l(i){Q(e.$$.fragment,i)},m(i,l){Y(e,i,l),a=!0},p(i,l){const n={};l&32&&(n.value=i[5]),e.$set(n)},i(i){a||(F(e.$$.fragment,i),a=!0)},o(i){K(e.$$.fragment,i),a=!1},d(i){ee(e,i)}}}function Je(r){let e,a,i,l,n,t,o,w,b,j,U,I,V,te,q,B,oe,p,u=r[5],P,M,D,G,R,H,T,L,ae,f,h,W,A,$,ie,fe,S=Ee(r);return A=new ze({props:{id:"playerUsed",className:"filminfo__other",value:0,options:["ALPHA","BETA","GAMMA"]}}),A.$on("optionselect",r[6]),{c(){e=g("div"),a=g("div"),i=g("h2"),l=N(r[0]),n=y(),t=g("small"),o=N(r[1]),w=y(),b=g("small"),j=N(r[2]),U=y(),I=g("small"),V=N(r[3]),te=y(),q=g("p"),B=N(r[4]),oe=y(),p=g("div"),S.c(),P=y(),M=g("span"),D=N("\u0421\u0432\u044F\u0437\u0430\u043D\u043D\u043E\u0435"),G=y(),R=g("span"),H=N("\u041F\u043E\u0445\u043E\u0436\u0435\u0435"),T=y(),L=g("br"),ae=y(),f=g("p"),h=N("\u041F\u043B\u0435\u0435\u0440:"),W=y(),Z(A.$$.fragment),this.h()},l(c){e=v(c,"DIV",{class:!0});var _=x(e);a=v(_,"DIV",{class:!0});var C=x(a);i=v(C,"H2",{class:!0,id:!0});var _e=x(i);l=O(_e,r[0]),_e.forEach(d),n=k(C),t=v(C,"SMALL",{class:!0,id:!0});var ge=x(t);o=O(ge,r[1]),ge.forEach(d),w=k(C),b=v(C,"SMALL",{class:!0,id:!0});var ve=x(b);j=O(ve,r[2]),ve.forEach(d),U=k(C),I=v(C,"SMALL",{class:!0,id:!0});var we=x(I);V=O(we,r[3]),we.forEach(d),te=k(C),q=v(C,"P",{class:!0,id:!0});var xe=x(q);B=O(xe,r[4]),xe.forEach(d),C.forEach(d),oe=k(_),p=v(_,"DIV",{class:!0});var E=x(p);S.l(E),P=k(E),M=v(E,"SPAN",{class:!0});var ye=x(M);D=O(ye,"\u0421\u0432\u044F\u0437\u0430\u043D\u043D\u043E\u0435"),ye.forEach(d),G=k(E),R=v(E,"SPAN",{class:!0});var ke=x(R);H=O(ke,"\u041F\u043E\u0445\u043E\u0436\u0435\u0435"),ke.forEach(d),T=k(E),L=v(E,"BR",{}),ae=k(E),f=v(E,"P",{class:!0});var be=x(f);h=O(be,"\u041F\u043B\u0435\u0435\u0440:"),be.forEach(d),W=k(E),Q(A.$$.fragment,E),E.forEach(d),_.forEach(d),this.h()},h(){m(i,"class","filminfo__title svelte-7lfe1d"),m(i,"id","title"),m(t,"class","filminfo__num svelte-7lfe1d"),m(t,"id","year"),m(b,"class","filminfo__num filminfo__num--rating svelte-7lfe1d"),m(b,"id","rating"),m(I,"class","filminfo__num svelte-7lfe1d"),m(I,"id","age"),m(q,"class","filminfo__desc svelte-7lfe1d"),m(q,"id","desc"),m(a,"class","filminfo__texts svelte-7lfe1d"),m(M,"class","link filminfo__other"),m(R,"class","link filminfo__other"),m(f,"class","filminfo__other"),m(p,"class","filminfo__nav svelte-7lfe1d"),m(e,"class","filminfo svelte-7lfe1d")},m(c,_){re(c,e,_),s(e,a),s(a,i),s(i,l),s(a,n),s(a,t),s(t,o),s(a,w),s(a,b),s(b,j),s(a,U),s(a,I),s(I,V),s(a,te),s(a,q),s(q,B),s(e,oe),s(e,p),S.m(p,null),s(p,P),s(p,M),s(M,D),s(p,G),s(p,R),s(R,H),s(p,T),s(p,L),s(p,ae),s(p,f),s(f,h),s(p,W),Y(A,p,null),$=!0,ie||(fe=[Se(M,"click",r[9]),Se(R,"click",r[10])],ie=!0)},p(c,[_]){(!$||_&1)&&le(l,c[0]),(!$||_&2)&&le(o,c[1]),(!$||_&4)&&le(j,c[2]),(!$||_&8)&&le(V,c[3]),(!$||_&16)&&le(B,c[4]),_&32&&se(u,u=c[5])?(Re(),K(S,1,1,ne),Ce(),S=Ee(c),S.c(),F(S,1),S.m(p,P)):S.p(c,_)},i(c){$||(F(S),F(A.$$.fragment,c),$=!0)},o(c){K(S),K(A.$$.fragment,c),$=!1},d(c){c&&d(e),S.d(c),ee(A),ie=!1,Pe(fe)}}}function Ie(r,e,a,i,l,n,t){try{var o=r[n](t),w=o.value}catch(b){a(b);return}o.done?e(w):Promise.resolve(w).then(i,l)}function Ue(r){return function(){var e=this,a=arguments;return new Promise(function(i,l){var n=r.apply(e,a);function t(w){Ie(n,i,l,t,o,"next",w)}function o(w){Ie(n,i,l,t,o,"throw",w)}t(void 0)})}}function Ve(r,e,a){let i,l,n,t;X(r,pe,u=>a(11,i=u)),X(r,me,u=>a(12,l=u)),X(r,he,u=>a(13,n=u)),X(r,J,u=>a(14,t=u));var o="\u0417\u0430\u0433\u0440\u0443\u0437\u043A\u0430...",[w,b,j,U]=Array(4).fill("-"),I=0;Ae(()=>V());var V=function(){var u=Ue(function*(){var P,M,D,G,R,H,T,L=ue(),ae="https://kinopoiskapiunofficial.tech/api/v2.2/films/"+L.id,f=yield Ne(ae),h=JSON.parse(localStorage.getItem("watch_history"));h||(h=[]);var W=h.filter(fe=>fe.id==L.id)[0];if(W==null){var A;h.unshift({id:L.id,name:(A=f.nameRu)!=null?A:f.nameOriginal,poster:f.posterUrlPreview}),h.length>24&&h.pop(),localStorage.setItem("watch_history",JSON.stringify(h))}else{var $,ie=h.indexOf(W);h.splice(ie,1),h.unshift({id:L.id,name:($=f.nameRu)!=null?$:f.nameOriginal,poster:f.posterUrlPreview}),h.length>24&&h.pop(),localStorage.setItem("watch_history",JSON.stringify(h))}document.title=f.nameRu+" \u2014 KinoFree",a(0,o=(P=(M=f.nameRu)!=null?M:f.nameOriginal)!=null?P:"-"),a(1,w=(D=f.year)!=null?D:"-"),a(2,b=(G=(R=(H=f.ratingKinopoisk)!=null?H:f.rating)!=null?R:f.ratingImdb)!=null?G:"-"),a(3,j=f.ratingAgeLimits?f.ratingAgeLimits.split("age")[1]+"+":"-"),a(4,U=(T=f.description)!=null?T:"-"),z(pe,i=void 0,i)});return function(){return u.apply(this,arguments)}}();function te(u){switch(u.detail.value){case 0:z(J,t="https://api.framprox.ws/embed/kp/"+n,t);break;case 1:z(J,t="https://polati.newplayjj.com:9443/?token=a3fd119d8a9418f6c3f6a7ae628a41&kp="+n,t);break;case 2:z(J,t="//49442664434375553.svetacdn.in/sZfbdItt5jeX?kp_id="+n,t);break;default:z(J,t="https://api.framprox.ws/embed/kp/"+n,t)}}function q(u){z(me,l.search="id",l),z(me,l.id=ue().id,l),z(me,l.type=u,l),z(pe,i="search",i)}function B(u){a(5,I=u.detail.value),a(5,I=0)}return[o,w,b,j,U,I,te,q,B,()=>q("sequels_and_prequels"),()=>q("similars")]}class Be extends ce{constructor(e){super(),de(this,e,Ve,Je,se,{})}}function De(r){let e,a,i,l,n;return a=new je({}),l=new Be({}),{c(){e=g("section"),Z(a.$$.fragment),i=y(),Z(l.$$.fragment),this.h()},l(t){e=v(t,"SECTION",{class:!0});var o=x(e);Q(a.$$.fragment,o),i=k(o),Q(l.$$.fragment,o),o.forEach(d),this.h()},h(){m(e,"class","watch svelte-1fo40gq")},m(t,o){re(t,e,o),Y(a,e,null),s(e,i),Y(l,e,null),n=!0},p:ne,i(t){n||(F(a.$$.fragment,t),F(l.$$.fragment,t),n=!0)},o(t){K(a.$$.fragment,t),K(l.$$.fragment,t),n=!1},d(t){t&&d(e),ee(a),ee(l)}}}class Ge extends ce{constructor(e){super(),de(this,e,null,De,se,{})}}function He(r){let e,a,i,l,n;return a=new Ge({}),l=new Oe({}),{c(){e=y(),Z(a.$$.fragment),i=y(),Z(l.$$.fragment),this.h()},l(t){Le('[data-svelte="svelte-1wvij6h"]',document.head).forEach(d),e=k(t),Q(a.$$.fragment,t),i=k(t),Q(l.$$.fragment,t),this.h()},h(){document.title="KinoFree | \u0421\u043C\u043E\u0442\u0440\u0438\u0442\u0435 \u043A\u0438\u043D\u043E \u043E\u043D\u043B\u0430\u0439\u043D"},m(t,o){re(t,e,o),Y(a,t,o),re(t,i,o),Y(l,t,o),n=!0},p:ne,i(t){n||(F(a.$$.fragment,t),F(l.$$.fragment,t),n=!0)},o(t){K(a.$$.fragment,t),K(l.$$.fragment,t),n=!1},d(t){t&&d(e),ee(a,t),t&&d(i),ee(l,t)}}}class et extends ce{constructor(e){super(),de(this,e,null,He,se,{})}}export{et as default};
