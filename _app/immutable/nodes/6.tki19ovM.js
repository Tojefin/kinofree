import{s as x,a as oe,c as ie,b as N,d as g,f as h,i as I,g as d,n as O,E as Z,a2 as ne,j as L,k as E,x as W,q as y,r as z,z as ee,l as F,m as J}from"../chunks/scheduler.YlLT_MhZ.js";import{S as A,i as B,f as re,c as U,a as T,m as H,t as m,b as _,d as V,g as X,e as Y}from"../chunks/index.K3M16RrR.js";import{w as me}from"../chunks/searchFilm.az4ILZEi.js";import{g as se,a as he}from"../chunks/entry.KLRw59XQ.js";import{U as j}from"../chunks/ui.button._2l3wbZu.js";import{U as ge}from"../chunks/ui.loginProviders.svelte_svelte_type_style_lang.xvtoYX95.js";import{p as G}from"../chunks/index.3YLQEot0.js";import{A as pe}from"../chunks/arrow.f9q8NU4h.js";import{D as _e,U as de}from"../chunks/ui.films.wEEPNvO4.js";function ve(l){let e,n;return{c(){e=oe("svg"),n=oe("path"),this.h()},l(t){e=ie(t,"svg",{width:!0,height:!0,viewBox:!0,fill:!0,xmlns:!0});var r=N(e);n=ie(r,"path",{d:!0,stroke:!0,"stroke-width":!0,"stroke-linecap":!0,"stroke-linejoin":!0}),N(n).forEach(g),r.forEach(g),this.h()},h(){h(n,"d","M12 15L15 12M15 12L12 9M15 12H4M4 7.24802V7.2002C4 6.08009 4 5.51962 4.21799 5.0918C4.40973 4.71547 4.71547 4.40973 5.0918 4.21799C5.51962 4 6.08009 4 7.2002 4H16.8002C17.9203 4 18.4796 4 18.9074 4.21799C19.2837 4.40973 19.5905 4.71547 19.7822 5.0918C20 5.5192 20 6.07899 20 7.19691V16.8036C20 17.9215 20 18.4805 19.7822 18.9079C19.5905 19.2842 19.2837 19.5905 18.9074 19.7822C18.48 20 17.921 20 16.8031 20H7.19691C6.07899 20 5.5192 20 5.0918 19.7822C4.71547 19.5905 4.40973 19.2839 4.21799 18.9076C4 18.4798 4 17.9201 4 16.8V16.75"),h(n,"stroke","white"),h(n,"stroke-width","2"),h(n,"stroke-linecap","round"),h(n,"stroke-linejoin","round"),h(e,"width","24"),h(e,"height","24"),h(e,"viewBox","0 0 24 24"),h(e,"fill","none"),h(e,"xmlns","http://www.w3.org/2000/svg")},m(t,r){I(t,e,r),d(e,n)},p:O,i:O,o:O,d(t){t&&g(e)}}}class be extends A{constructor(e){super(),B(this,e,null,ve,x,{})}}function we(l){let e,n="Вход в Kinofree";return{c(){e=L("h2"),e.textContent=n,this.h()},l(t){e=E(t,"H2",{slot:!0,class:!0,"data-svelte-h":!0}),W(e)!=="svelte-1wppmlr"&&(e.textContent=n),this.h()},h(){h(e,"slot","title"),h(e,"class","svelte-pzapza")},m(t,r){I(t,e,r)},p:O,d(t){t&&g(e)}}}function ke(l){let e,n,t="Войдите через удобный вам сервис",r,s,o,i='<img src="/icons/google.svg" alt="google"/>',u,c;return{c(){e=L("section"),n=L("span"),n.textContent=t,r=y(),s=L("ul"),o=L("button"),o.innerHTML=i,this.h()},l(f){e=E(f,"SECTION",{slot:!0,class:!0});var a=N(e);n=E(a,"SPAN",{"data-svelte-h":!0}),W(n)!=="svelte-11qkcq2"&&(n.textContent=t),r=z(a),s=E(a,"UL",{});var $=N(s);o=E($,"BUTTON",{class:!0,"data-svelte-h":!0}),W(o)!=="svelte-13j3565"&&(o.innerHTML=i),$.forEach(g),a.forEach(g),this.h()},h(){h(o,"class","svelte-pzapza"),h(e,"slot","content"),h(e,"class","svelte-pzapza")},m(f,a){I(f,e,a),d(e,n),d(e,r),d(e,s),d(s,o),u||(c=ee(o,"click",l[1]),u=!0)},p:O,d(f){f&&g(e),u=!1,c()}}}function Se(l){let e,n,t;function r(o){l[2](o)}let s={$$slots:{content:[ke],title:[we]},$$scope:{ctx:l}};return l[0]!==void 0&&(s.isShow=l[0]),e=new ge({props:s}),Z.push(()=>re(e,"isShow",r)),{c(){U(e.$$.fragment)},l(o){T(e.$$.fragment,o)},m(o,i){H(e,o,i),t=!0},p(o,[i]){const u={};i&16&&(u.$$scope={dirty:i,ctx:o}),!n&&i&1&&(n=!0,u.isShow=o[0],ne(()=>n=!1)),e.$set(u)},i(o){t||(m(e.$$.fragment,o),t=!0)},o(o){_(e.$$.fragment,o),t=!1},d(o){V(e,o)}}}function ae(l,e,n,t,r,s,o){try{var i=l[s](o),u=i.value}catch(c){return void n(c)}i.done?e(u):Promise.resolve(u).then(t,r)}function Ce(l){return function(){var e=this,n=arguments;return new Promise(function(t,r){var s=l.apply(e,n);function o(u){ae(s,t,r,o,i,"next",u)}function i(u){ae(s,t,r,o,i,"throw",u)}o(void 0)})}}function Le(l,e,n){let{isShow:t}=e;function r(){return s.apply(this,arguments)}function s(){return s=Ce(function*(){yield G.collection("users").authWithOAuth2({provider:"google"}),se("")}),s.apply(this,arguments)}function o(i){t=i,n(0,t)}return l.$$set=i=>{"isShow"in i&&n(0,t=i.isShow)},[t,r,o]}class Ee extends A{constructor(e){super(),B(this,e,Le,Se,x,{isShow:0})}}function Ue(l){let e,n='<p class="svelte-1swm6b7">Войти в аккаунт</p> <span class="svelte-1swm6b7">Синхронизация списков на разных устройствах</span>',t,r,s,o,i,u;function c(a){l[2](a)}let f={};return l[0]!==void 0&&(f.isShow=l[0]),r=new Ee({props:f}),Z.push(()=>re(r,"isShow",c)),{c(){e=L("button"),e.innerHTML=n,t=y(),U(r.$$.fragment),this.h()},l(a){e=E(a,"BUTTON",{class:!0,"data-svelte-h":!0}),W(e)!=="svelte-cli9t6"&&(e.innerHTML=n),t=z(a),T(r.$$.fragment,a),this.h()},h(){h(e,"class","login svelte-1swm6b7")},m(a,$){I(a,e,$),I(a,t,$),H(r,a,$),o=!0,i||(u=ee(e,"click",l[1]),i=!0)},p(a,[$]){const M={};!s&&$&1&&(s=!0,M.isShow=a[0],ne(()=>s=!1)),r.$set(M)},i(a){o||(m(r.$$.fragment,a),o=!0)},o(a){_(r.$$.fragment,a),o=!1},d(a){a&&(g(e),g(t)),V(r,a),i=!1,u()}}}function Te(l,e,n){var t=!1;const r=()=>n(0,t=!0);function s(o){t=o,n(0,t)}return[t,r,s]}class He extends A{constructor(e){super(),B(this,e,Te,Ue,x,{})}}function Ve(l){let e,n;return e=new be({}),{c(){U(e.$$.fragment)},l(t){T(e.$$.fragment,t)},m(t,r){H(e,t,r),n=!0},i(t){n||(m(e.$$.fragment,t),n=!0)},o(t){_(e.$$.fragment,t),n=!1},d(t){V(e,t)}}}function Me(l){let e,n;return e=new j({props:{dark:!0,circle:!0,$$slots:{default:[Ve]},$$scope:{ctx:l}}}),e.$on("click",l[0]),{c(){U(e.$$.fragment)},l(t){T(e.$$.fragment,t)},m(t,r){H(e,t,r),n=!0},p(t,[r]){const s={};r&2&&(s.$$scope={dirty:r,ctx:t}),e.$set(s)},i(t){n||(m(e.$$.fragment,t),n=!0)},o(t){_(e.$$.fragment,t),n=!1},d(t){V(e,t)}}}function Ne(l){function e(){G.authStore.clear(),se("")}return[e]}class Ie extends A{constructor(e){super(),B(this,e,Ne,Me,x,{})}}function ue(l){let e,n;return e=new He({}),{c(){U(e.$$.fragment)},l(t){T(e.$$.fragment,t)},m(t,r){H(e,t,r),n=!0},i(t){n||(m(e.$$.fragment,t),n=!0)},o(t){_(e.$$.fragment,t),n=!1},d(t){V(e,t)}}}function ye(l){let e,n;return e=new pe({props:{left:!0}}),{c(){U(e.$$.fragment)},l(t){T(e.$$.fragment,t)},m(t,r){H(e,t,r),n=!0},p:O,i(t){n||(m(e.$$.fragment,t),n=!0)},o(t){_(e.$$.fragment,t),n=!1},d(t){V(e,t)}}}function ce(l){var u,c;let e,n,t=((c=(u=G.authStore.model)==null?void 0:u.email)==null?void 0:c.split("@")[0])+"",r,s,o,i;return o=new Ie({}),{c(){e=L("div"),n=L("p"),r=F(t),s=y(),U(o.$$.fragment),this.h()},l(f){e=E(f,"DIV",{class:!0});var a=N(e);n=E(a,"P",{class:!0});var $=N(n);r=J($,t),$.forEach(g),s=z(a),T(o.$$.fragment,a),a.forEach(g),this.h()},h(){h(n,"class","svelte-r429wh"),h(e,"class","user svelte-r429wh")},m(f,a){I(f,e,a),d(e,n),d(n,r),d(e,s),H(o,e,null),i=!0},i(f){i||(m(o.$$.fragment,f),i=!0)},o(f){_(o.$$.fragment,f),i=!1},d(f){f&&g(e),V(o)}}}function ze(l){let e;return{c(){e=F("История")},l(n){e=J(n,"История")},m(n,t){I(n,e,t)},d(n){n&&g(e)}}}function fe(l){let e,n,t,r;return e=new j({props:{toggle:!0,active:l[0]=="view",$$slots:{default:[De]},$$scope:{ctx:l}}}),e.$on("click",l[9]),t=new j({props:{toggle:!0,active:l[0]=="planned",$$slots:{default:[Oe]},$$scope:{ctx:l}}}),t.$on("click",l[10]),{c(){U(e.$$.fragment),n=y(),U(t.$$.fragment)},l(s){T(e.$$.fragment,s),n=z(s),T(t.$$.fragment,s)},m(s,o){H(e,s,o),I(s,n,o),H(t,s,o),r=!0},p(s,o){const i={};o&1&&(i.active=s[0]=="view"),o&4096&&(i.$$scope={dirty:o,ctx:s}),e.$set(i);const u={};o&1&&(u.active=s[0]=="planned"),o&4096&&(u.$$scope={dirty:o,ctx:s}),t.$set(u)},i(s){r||(m(e.$$.fragment,s),m(t.$$.fragment,s),r=!0)},o(s){_(e.$$.fragment,s),_(t.$$.fragment,s),r=!1},d(s){s&&g(n),V(e,s),V(t,s)}}}function De(l){let e;return{c(){e=F("Смотрю")},l(n){e=J(n,"Смотрю")},m(n,t){I(n,e,t)},d(n){n&&g(e)}}}function Oe(l){let e;return{c(){e=F("Буду смотреть")},l(n){e=J(n,"Буду смотреть")},m(n,t){I(n,e,t)},d(n){n&&g(e)}}}function $e(l){let e,n,t,r,s,o;return n=new j({props:{circle:!0,dark:!0,vibro:!0,$$slots:{default:[xe]},$$scope:{ctx:l}}}),{c(){e=L("button"),U(n.$$.fragment),t=F(`\r
				Очистить список «История»`),this.h()},l(i){e=E(i,"BUTTON",{class:!0});var u=N(e);T(n.$$.fragment,u),t=J(u,`\r
				Очистить список «История»`),u.forEach(g),this.h()},h(){h(e,"class","svelte-r429wh")},m(i,u){I(i,e,u),H(n,e,null),d(e,t),r=!0,s||(o=ee(e,"click",l[5]),s=!0)},p(i,u){const c={};u&4096&&(c.$$scope={dirty:u,ctx:i}),n.$set(c)},i(i){r||(m(n.$$.fragment,i),r=!0)},o(i){_(n.$$.fragment,i),r=!1},d(i){i&&g(e),V(n),s=!1,o()}}}function xe(l){let e,n;return e=new _e({}),{c(){U(e.$$.fragment)},l(t){T(e.$$.fragment,t)},m(t,r){H(e,t,r),n=!0},i(t){n||(m(e.$$.fragment,t),n=!0)},o(t){_(e.$$.fragment,t),n=!1},d(t){V(e,t)}}}function Ae(l){let e,n,t,r,s,o,i,u="Профиль",c,f,a,$,M,q,C,K,te,le,k=!l[3]&&ue();s=new j({props:{title:"Назад",nav:!0,vibro:!0,dark:!0,circle:!0,$$slots:{default:[ye]},$$scope:{ctx:l}}}),s.$on("click",l[7]);let S=l[3]&&ce();M=new j({props:{toggle:!0,active:l[0]=="history",$$slots:{default:[ze]},$$scope:{ctx:l}}}),M.$on("click",l[8]);let v=l[3]&&fe(l),b=l[0]=="history"&&l[2].length&&$e(l);return{c(){e=L("section"),k&&k.c(),n=y(),t=L("div"),r=L("div"),U(s.$$.fragment),o=y(),i=L("h2"),i.textContent=u,c=y(),S&&S.c(),f=y(),a=L("div"),$=L("nav"),U(M.$$.fragment),q=y(),v&&v.c(),C=y(),b&&b.c(),this.h()},l(p){e=E(p,"SECTION",{class:!0});var w=N(e);k&&k.l(w),n=z(w),t=E(w,"DIV",{class:!0});var D=N(t);r=E(D,"DIV",{class:!0});var P=N(r);T(s.$$.fragment,P),P.forEach(g),o=z(D),i=E(D,"H2",{class:!0,"data-svelte-h":!0}),W(i)!=="svelte-12joxbi"&&(i.textContent=u),c=z(D),S&&S.l(D),D.forEach(g),f=z(w),a=E(w,"DIV",{class:!0});var Q=N(a);$=E(Q,"NAV",{class:!0});var R=N($);T(M.$$.fragment,R),q=z(R),v&&v.l(R),R.forEach(g),C=z(Q),b&&b.l(Q),Q.forEach(g),w.forEach(g),this.h()},h(){h(r,"class","back svelte-r429wh"),h(i,"class","svelte-r429wh"),h(t,"class","top svelte-r429wh"),h($,"class","svelte-r429wh"),h(a,"class","bottom svelte-r429wh"),h(e,"class","svelte-r429wh")},m(p,w){I(p,e,w),k&&k.m(e,null),d(e,n),d(e,t),d(t,r),H(s,r,null),d(t,o),d(t,i),d(t,c),S&&S.m(t,null),d(e,f),d(e,a),d(a,$),H(M,$,null),d($,q),v&&v.m($,null),l[11]($),d(a,C),b&&b.m(a,null),K=!0,te||(le=ee($,"scroll",l[6]),te=!0)},p(p,[w]){p[3]?k&&(X(),_(k,1,1,()=>{k=null}),Y()):k?w&8&&m(k,1):(k=ue(),k.c(),m(k,1),k.m(e,n));const D={};w&4096&&(D.$$scope={dirty:w,ctx:p}),s.$set(D),p[3]?S?w&8&&m(S,1):(S=ce(),S.c(),m(S,1),S.m(t,null)):S&&(X(),_(S,1,1,()=>{S=null}),Y());const P={};w&1&&(P.active=p[0]=="history"),w&4096&&(P.$$scope={dirty:w,ctx:p}),M.$set(P),p[3]?v?(v.p(p,w),w&8&&m(v,1)):(v=fe(p),v.c(),m(v,1),v.m($,null)):v&&(X(),_(v,1,1,()=>{v=null}),Y()),p[0]=="history"&&p[2].length?b?(b.p(p,w),w&5&&m(b,1)):(b=$e(p),b.c(),m(b,1),b.m(a,null)):b&&(X(),_(b,1,1,()=>{b=null}),Y())},i(p){K||(m(k),m(s.$$.fragment,p),m(S),m(M.$$.fragment,p),m(v),m(b),K=!0)},o(p){_(k),_(s.$$.fragment,p),_(S),_(M.$$.fragment,p),_(v),_(b),K=!1},d(p){p&&g(e),k&&k.d(),V(s),S&&S.d(),V(M),v&&v.d(),l[11](null),b&&b.d(),te=!1,le()}}}function Be(l,e,n){let{activeList:t="history"}=e;var r,s=[],o=G.authStore.isValid;function i(C){n(0,t=C)}function u(){localStorage.setItem("watch_history",JSON.stringify([])),se("")}function c(){var C=r.scrollLeft/(r.scrollWidth-r.clientWidth);C<.01&&n(1,r.style="mask-image: linear-gradient(90deg,transparent 0%,rgba(0, 0, 0, 1) 0%,rgba(0, 0, 0, 1) 90%,transparent 100%)",r),C>.01&&C<.99&&n(1,r.style="mask-image: linear-gradient(90deg,transparent 0%,rgba(0, 0, 0, 1) 10%,rgba(0, 0, 0, 1) 90%,transparent 100%)",r),C>.99&&n(1,r.style="mask-image: linear-gradient(90deg,transparent 0%,rgba(0, 0, 0, 1) 10%,rgba(0, 0, 0, 1) 100%,transparent 100%)",r)}he(()=>{n(2,s=me.get()),n(3,o=G.authStore.isValid)});const f=()=>history.back(),a=()=>i("history"),$=()=>i("view"),M=()=>i("planned");function q(C){Z[C?"unshift":"push"](()=>{r=C,n(1,r)})}return l.$$set=C=>{"activeList"in C&&n(0,t=C.activeList)},[t,r,s,o,i,u,c,f,a,$,M,q]}class Pe extends A{constructor(e){super(),B(this,e,Be,Ae,x,{activeList:0})}}function je(l){let e,n,t,r,s,o;function i(c){l[1](c)}let u={};return l[0]!==void 0&&(u.activeList=l[0]),n=new Pe({props:u}),Z.push(()=>re(n,"activeList",i)),s=new de({props:{type:l[0]}}),{c(){e=L("div"),U(n.$$.fragment),r=y(),U(s.$$.fragment),this.h()},l(c){e=E(c,"DIV",{class:!0});var f=N(e);T(n.$$.fragment,f),r=z(f),T(s.$$.fragment,f),f.forEach(g),this.h()},h(){h(e,"class","page-profile svelte-5o4glg")},m(c,f){I(c,e,f),H(n,e,null),d(e,r),H(s,e,null),o=!0},p(c,[f]){const a={};!t&&f&1&&(t=!0,a.activeList=c[0],ne(()=>t=!1)),n.$set(a);const $={};f&1&&($.type=c[0]),s.$set($)},i(c){o||(m(n.$$.fragment,c),m(s.$$.fragment,c),o=!0)},o(c){_(n.$$.fragment,c),_(s.$$.fragment,c),o=!1},d(c){c&&g(e),V(n),V(s)}}}function qe(l,e,n){var t;function r(s){t=s,n(0,t)}return[t,r]}class We extends A{constructor(e){super(),B(this,e,qe,je,x,{})}}function Ge(l){let e,n;return e=new We({}),{c(){U(e.$$.fragment)},l(t){T(e.$$.fragment,t)},m(t,r){H(e,t,r),n=!0},p:O,i(t){n||(m(e.$$.fragment,t),n=!0)},o(t){_(e.$$.fragment,t),n=!1},d(t){V(e,t)}}}class tt extends A{constructor(e){super(),B(this,e,null,Ge,x,{})}}export{tt as component};
